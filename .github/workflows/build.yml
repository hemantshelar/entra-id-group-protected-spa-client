name: Build Anuglar

on:
  push:
    branches:
      - main
      - feature/002-component
  pull_request:
    branches:
      - master
jobs:
  demo:
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: ./entra-id-group-protected-spa-client

    steps:
        - name: Checkout code
          uses: actions/checkout@v4
        - name: setup Node.js
          uses: actions/setup-node@v4
          with:
            node-version: '20'
        - name: Install dependencies
          run: npm install
        - name: Build Angular
          run: npm run build

        - name: Deploy to Azure webapp
          uses: azure/webapps-deploy@v2
          with:
            app-name: 'webspa-dev-p01-aae'
            package: ./entra-id-group-protected-spa-client/dist/entra-id-group-protected-spa-client
#https://learn.microsoft.com/en-us/azure/developer/github/connect-from-azure-secret



        